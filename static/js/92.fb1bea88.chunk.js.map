{"version":3,"file":"static/js/92.fb1bea88.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MoviesList/MoviesList.module/MoviesList.module.css?f10d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module/SearchForm.module.css?dbc2","components/SearchForm/SearchForm.jsx","components/Movies/Movies.js","components/api.services/api.services.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"moviesListContainer\":\"MoviesList_moviesListContainer__biLP6\",\"movieItem\":\"MoviesList_movieItem__hvWxA\",\"movieImage\":\"MoviesList_movieImage__LKxH9\",\"movieTitle\":\"MoviesList_movieTitle__WbhsQ\",\"moviesList\":\"MoviesList_moviesList__WLLGS\"};","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetchTrendingMovies, searchMovies } from '../api.services/api.services';\nimport styles from './MoviesList.module/MoviesList.module.css';\n\nfunction MoviesList({ searchQuery, movies }) {\n  const [moviesData, setMoviesData] = useState([]);\n\n  const fetchMoviesData = useCallback(async () => {\n    try {\n      if (searchQuery) {\n        const searchResults = await searchMovies(searchQuery);\n        setMoviesData(searchResults.results);\n      } else {\n        const trendingMovies = await fetchTrendingMovies();\n        setMoviesData(trendingMovies.results);\n      }\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n    }\n  }, [searchQuery]);\n\n  useEffect(() => {\n    fetchMoviesData();\n  }, [fetchMoviesData]);\n\n  const moviesToRender = movies.length > 0 ? movies : moviesData;\n\n  return (\n    <div className={styles.moviesListContainer}>\n      <ul className={styles.moviesList}>\n        {moviesToRender && moviesToRender.map(movie => (\n          <li key={movie.id} className={styles.movieItem}>\n            <Link to={`/movies/${movie.id}`}>\n              <img\n                className={styles.movieImage}\n                src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                alt={movie.title}\n              />\n              <p className={styles.movieTitle}>{movie.title}</p>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__YhZ2F\",\"input\":\"SearchForm_input__tPSXA\",\"button\":\"SearchForm_button__OGyWA\"};","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styles from './SearchForm.module/SearchForm.module.css';\n\nfunction SearchForm() {\n  const [query, setQuery] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    navigate(`/movies?query=${query}`);\n    setQuery('');\n  };\n\n  const handleInputChange = e => {\n    setQuery(e.target.value);\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <input\n        className={styles.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        value={query}\n        onChange={handleInputChange}\n      />\n      <button type=\"submit\" className={styles.button}>\n        Search\n      </button>\n    </form>\n  );\n}\n\nexport default SearchForm;\n","import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { fetchTrendingMovies, searchMovies } from '../api.services/api.services';\n\nimport MoviesList from '../MoviesList/MoviesList';\nimport SearchForm from '../SearchForm/SearchForm';\n\nfunction Movies() {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState(''); \n\n  useEffect(() => {\n    if (location.search) {\n      const queryParams = new URLSearchParams(location.search);\n      const queryParamValue = queryParams.get('query');\n      if (queryParamValue) {\n        setQuery(queryParamValue);\n        search(queryParamValue);\n        return;\n      }\n    }\n    fetchTrending();\n  }, [location.search, query]);\n\n  const fetchTrending = async () => {\n    try {\n      const trendingMovies = await fetchTrendingMovies();\n      setMovies(trendingMovies);\n    } catch (error) {\n      console.error('Error fetching trending movies:', error);\n    }\n  };\n\n  const search = async query => {\n    try {\n      const searchResults = await searchMovies(query);\n      setMovies(searchResults);\n    } catch (error) {\n      console.error('Error searching movies:', error);\n    }\n  };\n\n  const handleSearch = query => {\n    if (query.trim()) {\n      setQuery(query);\n      search(query);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Movies</h1>\n      <SearchForm onSearch={handleSearch} />\n      <MoviesList movies={movies} />\n    </div>\n  );\n}\n\nexport default Movies;\n","const API_KEY = 'b07e0fe67ef678118a4e6eba95afb560'; \n\nexport async function fetchTrendingMovies() {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data.results;\n}\n\nexport async function searchMovies(query) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  const data = await response.json();\n  return data.results;\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data;\n}\n\nexport async function fetchMovieCredits(movieId) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data.cast;\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data.results;\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["searchQuery","movies","useState","moviesData","setMoviesData","fetchMoviesData","useCallback","searchMovies","searchResults","results","fetchTrendingMovies","trendingMovies","console","error","useEffect","moviesToRender","length","className","styles","map","movie","to","id","src","poster_path","alt","title","query","setQuery","navigate","useNavigate","onSubmit","e","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","target","location","useLocation","setMovies","search","queryParamValue","URLSearchParams","get","fetchTrending","onSearch","trim","API_KEY","fetch","response","json","data","fetchMovieDetails","movieId","fetchMovieCredits","cast","fetchMovieReviews","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}