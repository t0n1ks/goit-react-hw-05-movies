{"version":3,"file":"static/js/300.6a5ac6da.chunk.js","mappings":"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","sources":["api.services/api.services.js","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module/MoviesList.module.css?f10d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module/SearchForm.module.css?dbc2","components/SearchForm/SearchForm.jsx","components/Pages/Movies/Movies.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["const API_KEY = 'b07e0fe67ef678118a4e6eba95afb560'; \n\nexport async function fetchTrendingMovies() {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/trending/movie/day?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data.results;\n}\n\nexport async function searchMovies(query) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${query}`\n  );\n  const data = await response.json();\n  return data.results;\n}\n\nexport async function fetchMovieDetails(movieId) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data;\n}\n\nexport async function fetchMovieCredits(movieId) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data.cast;\n}\n\nexport async function fetchMovieReviews(movieId) {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  const data = await response.json();\n  return data.results;\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"moviesListContainer\":\"MoviesList_moviesListContainer__biLP6\",\"movieItem\":\"MoviesList_movieItem__hvWxA\",\"movieImage\":\"MoviesList_movieImage__LKxH9\",\"movieTitle\":\"MoviesList_movieTitle__WbhsQ\",\"moviesList\":\"MoviesList_moviesList__WLLGS\"};","import React, { useState, useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { fetchTrendingMovies, searchMovies } from '../../api.services/api.services';\nimport styles from './MoviesList.module/MoviesList.module.css';\n\nfunction MoviesList({ searchQuery, movies }) {\n  const [moviesData, setMoviesData] = useState([]);\n\n  const fetchMoviesData = useCallback(async () => {\n    try {\n      if (searchQuery) {\n        const searchResults = await searchMovies(searchQuery);\n        setMoviesData(searchResults.results);\n      } else {\n        const trendingMovies = await fetchTrendingMovies();\n        setMoviesData(trendingMovies.results);\n      }\n    } catch (error) {\n      console.error('Error fetching movies:', error);\n    }\n  }, [searchQuery]);\n\n  useEffect(() => {\n    fetchMoviesData();\n  }, [fetchMoviesData]);\n\n  const moviesToRender = movies.length > 0 ? movies : moviesData;\n\n  return (\n    <div className={styles.moviesListContainer}>\n      <ul className={styles.moviesList}>\n        {moviesToRender && moviesToRender.map(movie => (\n          <li key={movie.id} className={styles.movieItem}>\n            <Link to={`/movies/${movie.id}`}>\n              <img\n                className={styles.movieImage}\n                src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                alt={movie.title}\n              />\n              <p className={styles.movieTitle}>{movie.title}</p>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default MoviesList;\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__YhZ2F\",\"input\":\"SearchForm_input__tPSXA\",\"button\":\"SearchForm_button__OGyWA\"};","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styles from './SearchForm.module/SearchForm.module.css';\n\nfunction SearchForm() {\n  const [query, setQuery] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    navigate(`/movies?query=${query}`);\n    setQuery('');\n  };\n\n  const handleInputChange = e => {\n    setQuery(e.target.value);\n  };\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <input\n        className={styles.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        value={query}\n        onChange={handleInputChange}\n      />\n      <button type=\"submit\" className={styles.button}>\n        Search\n      </button>\n    </form>\n  );\n}\n\nexport default SearchForm;\n","import React, { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { fetchTrendingMovies, searchMovies } from '../../../api.services/api.services';\n\nimport MoviesList from '../../MoviesList/MoviesList';\nimport SearchForm from '../../SearchForm/SearchForm';\n\nfunction Movies() {\n  const location = useLocation();\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState(''); \n\n  useEffect(() => {\n    if (location.search) {\n      const queryParams = new URLSearchParams(location.search);\n      const queryParamValue = queryParams.get('query');\n      if (queryParamValue) {\n        setQuery(queryParamValue);\n        search(queryParamValue);\n        return;\n      }\n    }\n    fetchTrending();\n  }, [location.search, query]);\n\n  const fetchTrending = async () => {\n    try {\n      const trendingMovies = await fetchTrendingMovies();\n      setMovies(trendingMovies);\n    } catch (error) {\n      console.error('Error fetching trending movies:', error);\n    }\n  };\n\n  const search = async query => {\n    try {\n      const searchResults = await searchMovies(query);\n      setMovies(searchResults);\n    } catch (error) {\n      console.error('Error searching movies:', error);\n    }\n  };\n\n  const handleSearch = query => {\n    if (query.trim()) {\n      setQuery(query);\n      search(query);\n    }\n  };\n\n  return (\n    <div>\n      <h1>Movies</h1>\n      <SearchForm onSearch={handleSearch} />\n      <MoviesList movies={movies} />\n    </div>\n  );\n}\n\nexport default Movies;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["API_KEY","fetchTrendingMovies","fetch","response","json","data","results","searchMovies","query","fetchMovieDetails","movieId","fetchMovieCredits","cast","fetchMovieReviews","searchQuery","movies","useState","moviesData","setMoviesData","fetchMoviesData","useCallback","searchResults","trendingMovies","console","error","useEffect","moviesToRender","length","className","styles","map","movie","to","id","src","poster_path","alt","title","setQuery","navigate","useNavigate","onSubmit","e","preventDefault","type","autoComplete","autoFocus","placeholder","value","onChange","target","location","useLocation","setMovies","search","queryParamValue","URLSearchParams","get","fetchTrending","onSearch","trim","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}